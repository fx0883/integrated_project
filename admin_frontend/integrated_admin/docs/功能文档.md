# 集成管理系统后台功能文档

## 1. 系统概述

本系统是一个基于Vue 3和Element Plus的后台管理系统，主要用于管理多租户环境下的打卡签到系统。系统采用前后端分离架构，前端使用Vue 3、Vite、Pinia和Element Plus等现代前端技术栈，实现了用户管理、租户管理、打卡管理等核心功能。

## 2. 技术栈

- **前端框架**：Vue 3.5.13
- **构建工具**：Vite 6.3.1
- **UI组件库**：Element Plus 2.9.8
- **状态管理**：Pinia 3.0.2
- **路由管理**：Vue Router 4.5.0
- **HTTP客户端**：Axios 1.8.4
- **数据可视化**：ECharts 5.6.0
- **其他工具**：
  - vue-cropper：图片裁剪
  - xlsx：Excel文件处理

## 3. 系统架构

系统采用模块化设计，主要包含以下几个部分：

- **核心模块**：
  - 认证模块：负责用户登录、注册、找回密码等功能
  - 权限控制：基于角色的访问控制系统
  - 路由管理：动态路由与导航守卫
  - 状态管理：使用Pinia进行全局状态管理
  - API请求封装：基于Axios的请求拦截与响应处理

- **业务模块**：
  - 打卡管理：类型管理、任务管理、记录管理、统计分析
  - 用户管理：用户创建、编辑、查看、登录历史
  - 租户管理：租户创建、编辑、查看
  - 个人设置：用户个人信息管理

- **辅助模块**：
  - 帮助中心
  - 关于我们
  - 法律条款（隐私政策、使用条款）
  - 错误页（403、404）

## 4. 功能模块详细说明

### 4.1 认证模块

#### 登录功能
- 支持用户名/密码登录
- 登录状态保持
- 登录历史记录

#### 注册功能
- 新用户注册
- 信息验证

#### 密码找回
- 邮箱验证
- 密码重置

### 4.2 用户管理模块

#### 用户列表
- 分页显示用户
- 筛选与搜索
- 批量操作

#### 用户创建/编辑
- 基本信息设置
- 角色分配
- 状态管理

#### 用户详情
- 信息查看
- 登录历史

### 4.3 租户管理模块

#### 租户列表
- 分页显示租户
- 筛选与搜索
- 状态管理

#### 租户创建/编辑
- 基本信息设置
- 管理员分配
- 配置管理

### 4.4 打卡管理模块

#### 类型管理
- 打卡类型创建、编辑、删除
- 类型属性配置
- 状态管理

#### 任务管理
- 打卡任务创建、编辑、删除
- 任务规则设置
- 任务状态监控

#### 记录管理
- 打卡记录查询
- 记录筛选与导出
- 记录状态管理

#### 统计分析
- 打卡数据可视化
- 多维度数据分析
- 报表导出

### 4.5 个人设置模块

- 个人信息编辑
- 密码修改
- 偏好设置

## 5. 权限控制

系统采用基于角色的权限控制机制，主要角色包括：

- **超级管理员(super_admin)**：拥有所有权限，可以管理所有租户和用户
- **租户管理员(admin)**：可以管理自己租户内的用户和打卡系统
- **普通用户**：无后台管理权限

权限控制在路由层和视图层都有实现：
- 路由导航守卫检查用户权限，未授权访问会重定向到403页面
- 视图组件根据用户角色动态显示或隐藏操作按钮

## 6. 数据交互

系统通过封装的Axios实例与后端API进行交互，主要包括以下API模块：

- **认证API(auth.js)**：处理登录、注册、密码重置等
- **用户API(user.js)**：用户CRUD操作
- **租户API(tenant.js)**：租户CRUD操作
- **打卡API(check.js)**：打卡类型、任务、记录的CRUD操作

## 7. 界面与交互

系统使用Element Plus组件库构建用户界面，主要特点包括：

- 响应式布局，适配不同屏幕尺寸
- 统一的设计风格
- 丰富的交互反馈
- 数据可视化展示

## 8. 扩展性与维护性

系统设计考虑了扩展性和维护性：

- 模块化设计便于功能扩展
- 统一的API调用模式便于接口维护
- 路由配置集中管理便于导航结构调整
- 状态管理使用Pinia便于状态追踪和调试

## 9. 部署与构建

系统使用Vite作为构建工具，支持以下命令：

- `npm run dev`：启动开发服务器
- `npm run build`：构建生产版本
- `npm run preview`：预览生产构建

## 10. 注意事项与限制

- 系统要求用户具有管理员权限才能访问后台
- 租户管理员无法访问租户管理模块
- 超级管理员可以访问所有模块和功能
- 系统包含调试日志，便于开发和故障排查 